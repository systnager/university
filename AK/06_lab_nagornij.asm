CALL CLDISP
CALL CLKB
M: IN 2
JZ M
IN 0
WR R1
SUB #49 ;1
JZ PRINTNAME
RD R1
SUB #48 ;0
JZ PRINTEND
RD R1
OUT 10
CALL CLKB
JMP M

SLEEP10: RD #10
OUT 21
RDI 25101
OUT 22
M11: IN 20
JZ M11
RD #101
OUT 20
RET

SLEEP30: RD #30
OUT 21
RDI 25101
OUT 22
X11: IN 20
JZ X11
RD #101
OUT 20
RET

PRINTEND: CALL CLDISP
CALL CLKB
RD #69 ;E
OUT 10
RD #78 ;N
OUT 10
RD #68 ;D
OUT 10
CALL SLEEP30
CALL CLDISP
CALL CLKB
HLT

PRINTNAME: CALL CLDISP
CALL CLKB
RD #84 ;T
OUT 10
RD #97 ;a
OUT 10
RD #114 ;r
OUT 10
RD #97 ;a
OUT 10
RD #115 ;s
OUT 10
RD #95 ;_
OUT 10
RD #78 ;N
OUT 10
RD #97 ;a
OUT 10
RD #103 ;g
OUT 10
RD #111 ;o
OUT 10
RD #114 ;r
OUT 10
RD #110 ;n
OUT 10
RD #105 ;i
OUT 10
RD #106 ;j
OUT 10
CALL SLEEP30
CALL CLDISP
CALL CLKB
JMP M

CLDISP: RD #101
OUT 11
RD #102
OUT 11
RD #011
OUT 11
RET

CLKB: RD #10
OUT 1
RD #101
OUT 1
RD #103
OUT 1
RET